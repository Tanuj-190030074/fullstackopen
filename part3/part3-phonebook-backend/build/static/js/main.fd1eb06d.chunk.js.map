{"version":3,"sources":["services/persons.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","request","axios","get","console","log","then","response","data","newObject","post","id","delete","put","Person","person","setPersons","persons","setErrorMessage","name","number","onClick","obj","find","x","window","confirm","personService","filter","text","type","catch","error","setTimeout","deleteevent","Persons","errorMessage","toLowerCase","includes","map","Filter","setFilter","value","onChange","event","target","PersonForm","useState","newName","setNewName","phone","setPhone","onSubmit","preventDefault","m","updatedone","y","length","Response","concat","Notification","className","App","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd1eb06d.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll=() =>{\r\n    const request=axios.get(baseUrl)\r\n    console.log(\"entered\")\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst insert=(newObject) =>{\r\n    const request=axios.post(baseUrl,newObject)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst deleteperson =(id) => {\r\n      return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst updateperson=(id,newObject)=>{\r\n    const request= axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nexport default \r\n{ getAll : getAll, \r\n  insert : insert,\r\n  deleteperson :deleteperson,\r\n  updateperson : updateperson\r\n}","import React from 'react'\r\nimport personService from '../services/persons.js'\r\n\r\nconst Person=({person,setPersons,persons,setErrorMessage})=>{\r\n    const deleteevent=(id)=>{\r\n       const obj=persons.find(x=>x.id===id)\r\n       if(window.confirm(`Delete ${obj.name}`))\r\n       {\r\n         personService.deleteperson(obj.id).then(response=>{\r\n           console.log(\"deleted\")\r\n           setPersons(persons.filter(x=>x.id!==id))\r\n           setErrorMessage({text:`Deleted ${obj.name} successfully`,type:\"error2\"})\r\n         }).catch(error=>{\r\n           console.log(error)\r\n           setErrorMessage({text:`Information of ${obj.name} has already been removed from server`,type:\"error\"})\r\n         })\r\n         setTimeout(() => {\r\n          setErrorMessage(null)\r\n      }, 5000)\r\n       }\r\n    }\r\n    return(\r\n    <li>{person.name} {person.number} <button onClick={()=>deleteevent(person.id)}>delete</button></li>\r\n    )\r\n  }\r\n  \r\n  const Persons=({persons,filter,setPersons,errorMessage,setErrorMessage})=>{\r\n    return(\r\n      <div>\r\n         <ul>{persons.filter(x=>x.name.toLowerCase().includes(filter.toLowerCase())).map((person,id) =><Person person={person} key={id} persons={persons} setPersons={setPersons} errorMessage={errorMessage} setErrorMessage={setErrorMessage}/>)}</ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\n\r\nconst Filter = ({ filter, setFilter }) => {\r\n    const handleFilter = (event) => {\r\n        setFilter(event.target.value)\r\n    }  \r\n  \r\n    return (\r\n        <div>filter shown with <input value={filter} onChange={handleFilter}/></div>\r\n    )\r\n  }\r\n\r\n  export default Filter","import React, { useState } from 'react'\r\nimport personService from '../services/persons.js'\r\n\r\nconst PersonForm=({persons,setPersons,setErrorMessage}) => {\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ phone, setPhone ] = useState('')\r\n    const change=(event)=>{\r\n      event.preventDefault()\r\n      console.log(event.target.value)\r\n      setNewName(event.target.value)\r\n    }\r\n    const changePhone=(event)=>{\r\n      event.preventDefault()\r\n      console.log(event.target.value)\r\n      setPhone(event.target.value)\r\n    }\r\n  \r\n    const addperson=(event)=>{\r\n      event.preventDefault()\r\n      console.log(\"entered\")\r\n      if(persons.find(x=>x.name===newName))\r\n      {\r\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\r\n        {  const x=persons.find(m=>m.name===newName)\r\n           const updatedone={...x,number:phone}\r\n          personService.updateperson(updatedone.id,updatedone).then(()=>{\r\n            setPersons(persons.map(y=>y.id!==updatedone.id?y:updatedone))\r\n            setErrorMessage({text:`Updated ${updatedone.name} successfully`,type:'error2'})\r\n          }).catch(error=>{\r\n            console.log(error)\r\n            setErrorMessage({text:`${error.response.data.error}`,type:\"error\"})\r\n          })\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        }\r\n      }\r\n      else{\r\n      const obj ={id:persons.length+1,name:newName, number:phone}\r\n      personService.insert(obj).then(Response=>{\r\n        setErrorMessage({text:`Added ${Response.name}`,type:'error2'})\r\n        setPersons(persons.concat(Response))\r\n      }).catch(error=>{\r\n        setErrorMessage({text:`${error.response.data.error}`,type:'error'})\r\n      })\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n      }\r\n    }\r\n    return (\r\n      <>\r\n      <form onSubmit={addperson}>\r\n          <div>\r\n            name: <input  onChange={change} value={newName}/>\r\n          </div>\r\n          <div>number: <input value={phone} onChange={changePhone}/></div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n        </>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\nconst Notification = ({ errorMessage }) => {\r\n    if (errorMessage === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={errorMessage.type}>\r\n        {errorMessage.text}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification\r\n  ","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ filter, setFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(()=>{\n    personService.getAll().then((response)=>{\n      console.log(response)\n       setPersons(response)\n    })\n  },[])\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification errorMessage={errorMessage} />\n      <Filter filter={filter} setFilter={setFilter}/> \n      <h2>add a new</h2>\n      <PersonForm persons={persons} setPersons={setPersons} setErrorMessage={setErrorMessage}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} filter={filter} setErrorMessage={setErrorMessage}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}